{
  "geoStoreUrl": "rest/geostore",
  "geoserverUrl": "${url.geoserver}/geoserver",
  "secureGeoserverUrl": "${url.secure.geoserver}/geoserver",
  "secureDecsirawebUrl": "${url.secure.decsiraweb}",
  "decsirawebUrl": "${url.decsiraweb}",
  "decsiraHelpUrl": "http://www.sistemapiemonte.it/eXoRisorse/dwd/servizi/SistemaConoscenzeAmbientali/SistemaConoscenzeAmbientali_Manuale_utente.pdf",
  "logOutUrl": "http://www.sistemapiemonte.it/cms/privati/ambiente-e-energia",
  "logOutService": "${url.secure.VH.decsiraweb}territoriosliv1sisp/Shibboleth.sso/Logout",
  "useAuthenticationRules": true,

  "mailingList": "https://groups.google.com/forum/#!forum/mapstore-users",
  "printUrl": "pdf/info.json",
  "bingApiKey": "AhuXBu7ipR1gNbBfXhtUAyCZ6rkC5PkWpxs2MnMRZ1ZupxQfivjLCch22ozKSCAn",
  "mapquestApiKey": "__API_KEY_MAPQUEST__",
  "initialMapFilter": "",
  "ignoreMobileCss": false,
  "loadAfterTheme": true,
  "defaultMapOptions": {
    "cesium": {
      "flyTo": true,
      "navigationTools": true,
      "terrainProvider": {
        "type": "ellipsoid"
      }
    },
    "floatingIdentifyDelay": 1000
  },
  "localizedLayerStyles": {
    "name": "mapstore_language"
  },
  "authenticationRules": [{
    "urlPattern": ".*geostore.*",
    "method": "bearer"
  }, {
    "urlPattern": ".*rest/config.*",
    "method": "bearer"
  },
    {
      "urlPattern": "http(s)?\\:\\/\\/gs-stable\\.geo-solutions\\.it\\/geoserver/.*",
      "authkeyParamName": "authkey",
      "method": "authkey"
    }],
  "monitorState": [
    {"name": "router", "path": "router.location.pathname"},
    {"name": "browser", "path": "browser"},
    {"name": "geostorymode", "path": "geostory.mode"},
    {"name": "featuregridmode", "path": "featuregrid.mode"},
    {"name": "userrole", "path": "security.user.role"},
    {"name": "printEnabled", "path": "print.capabilities"}
  ],
  "userSessions": {
    "enabled": true
  },
  "projectionDefs": [
      {
      "code": "EPSG:32632",
      "def": "+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs",
      "extent": [-250000, -200000, 1250000, 8400000],
      "worldExtent": [6.0000, 0.0000, 12.0000, 84.0000]
    }
  ],
  "initialState": {
    "defaultState": {
      "annotations": {
        "config": {
          "multiGeometry": true,
          "validationErrors": {}
        },
        "format": "decimal",
        "defaultTextAnnotation": "New"
      },
      "maptype": {
        "mapType": "{context.mode === 'desktop' ? 'openlayers' : 'leaflet'}"
      },
      "locales": {
        "supportedLocales": {
          "it": {
            "code": "it-IT",
            "description": "Italiano"
          },
          "en": {
            "code": "en-US",
            "description": "English"
          },
          "fr": {
            "code": "fr-FR",
            "description": "Français"
          },
          "de": {
            "code": "de-DE",
            "description": "Deutsch"
          },
          "es": {
            "code": "es-ES",
            "description": "Español"
          }
        }
      }
    }
  },
"proxyUrl": {
  "url": "proxy/?url=",
  "useCORS": ["http://nominatim.openstreetmap.org", "https://nominatim.openstreetmap.org"]
},
"query": {
    "attributePanelExpanded": true,
    "filterFields": [
        {
            "attribute": null,
            "exception": null,
            "groupId": 1,
            "operator": "=",
            "rowId": 1,
            "type": null,
            "value": null
        }
    ],
    "groupFields": [
        {
            "id": 1,
            "index": 0,
            "logic": "AND"
        }
    ],
    "groupLevels": 1,
    "pagination": {
        "maxFeatures": 20,
        "startIndex": 0
    },
    "searchUrl": "{geoserverUrl}/ows?service=WFS",
    "showDetailsPanel": false,
    "showGeneratedFilter": false,
    "spatialField": {
        "attribute": null,
        "geometry": null,
        "method": null,
        "operation": "INTERSECTS"
    },
    "spatialPanelExpanded": false,
    "toolbarEnabled": true,
    "useMapProjection": false
},
"topology": {
    "grid": {
        "columns": [
            {
                "header": "Id",
                "type": 2,
                "width": 100,
                "xpath": [
                    "@gml:id"
                ]
            },
            {
                "header": "Codice",
                "type": 2,
                "width": 100,
                "xpath": [
                    "ms:zone_code/text()"
                ]
            },
            {
                "header": "Nome",
                "type": 2,
                "width": 100,
                "xpath": [
                    "ms:zone_name/text()"
                ]
            },
            {
                "header": "Data Inizio",
                "type": 2,
                "width": 100,
                "xpath": [
                    "ms:zone_start_date/text()"
                ]
            },
            {
                "header": "Data Fine",
                "type": 2,
                "width": 100,
                "xpath": [
                    "ms:zone_end_date/text()"
                ]
            },
            {
                "header": "Ultimo Aggiornamento",
                "type": 2,
                "width": 100,
                "xpath": [
                    "ms:zone_last_update/text()"
                ]
            },
            {
                "header": "Popolazione",
                "type": 1,
                "width": 100,
                "xpath": [
                    "ms:zone_population/text()"
                ]
            },
            {
                "header": "Anno",
                "type": 1,
                "width": 100,
                "xpath": [
                    "ms:zone_population_year/text()"
                ]
            },
            {
                "header": "Area",
                "type": 1,
                "width": 100,
                "xpath": [
                    "ms:zone_area/text()"
                ]
            },
            {
                "header": "Tipo",
                "type": 2,
                "width": 100,
                "xpath": [
                    "ms:zone_type_label/text()"
                ]
            },
            {
                "header": "Anno Inquinamento",
                "type": 1,
                "width": 100,
                "xpath": [
                    "ms:pollutant_year/text()"
                ]
            },
            {
                "type": 6,
                "xpath": [
                    "ms:msGeometry/gml:MultiSurface/gml:surfaceMembers/gml:Polygon/gml:exterior/gml:LinearRing/gml:posList/text()"
                ]
            }
        ],
        "root": "/wfs:FeatureCollection/gml:featureMember/ms:ZONES_IPR"
    }
},
"exporter": {
    "csvName": "Csv_{featureType}",
    "shpName": "Shp_{featureType}",
    "maxFeatures": 1000000,
    "srs": "EPSG:32632"
},
  "plugins": {
    "mobile": [{
      "name": "Map",
      "cfg": {
        "mapOptions": {
          "openlayers": {
            "interactions": {
              "pinchRotate": false,
              "altShiftDragRotate": false
            }
          }
        },
        "tools": ["locate"]
      }
    }, "Version", "DrawerMenu",
      {
        "name": "BackgroundSelector",
        "cfg": {
          "bottom": 25,
          "dimensions": {
            "side": 65,
            "sidePreview": 65,
            "frame": 3,
            "margin": 5,
            "label": false,
            "vertical": true
          }
        }
      },
      {
        "name": "Identify",
        "showIn": ["Settings"],
        "cfg": {
          "showFullscreen": true,
          "position": "bottom",
          "size": 0.5,
          "fluid": true,
          "viewerOptions": {
            "container": "{context.ReactSwipe}"
          }
        }
      }, {
        "name": "Locate",
        "override": {
          "Toolbar": {
            "alwaysVisible": true
          }
        }
      }, "Home", {
        "name": "TOC",
        "cfg": {
          "visibilityCheckType": "glyph",
          "settingsOptions": {
            "includeCloseButton": false,
            "closeGlyph": "1-close",
            "asModal": false,
            "buttonSize": "small"
          },
          "activateSettingsTool": true,
          "activateLegendTool": true
        },
        "override": {
          "DrawerMenu": {
            "glyph": "1-layer",
            "buttonConfig": {
              "buttonClassName": "square-button no-border",
              "tooltip": "toc.tooltip"
            }
          }
        }
      },{
        "name": "Catalog",
        "override": {
          "DrawerMenu": {
            "buttonConfig": {
              "buttonClassName": "square-button no-border",
              "tooltip": "catalog.tooltip"
            }
          }
        }
      }, "AddGroup", {
        "name": "Tutorial",
        "cfg": {
          "preset": "default_mobile_tutorial"
        }
      }, {
        "name": "Settings",
        "cfg": {
          "wrap": true
        }
      }, {
        "name": "Search",
        "cfg": {
          "showOptions": false,
          "withToggle": ["max-width: 768px", "min-width: 768px"]
        }
      }, {
        "name": "Toolbar",
        "id": "NavigationBar",
        "cfg": {
          "id": "navigationBar"
        }
      }, "ZoomAll", {
        "name": "MapLoading",
        "override": {
          "Toolbar": {
            "alwaysVisible": true
          }
        }
      }, {
        "name": "FullScreen",
        "override": {
          "Toolbar": {
            "alwaysVisible": false
          }
        }
      }, "Login",
      "OmniBar", "BurgerMenu", "Expander", "GlobeViewSwitcher", {
        "name": "Cookie",
        "cfg": {
          "externalCookieUrl" : "",
          "declineUrl" : "http://www.google.com"
        }
      },
      "FeedbackMask"
    ],
    "desktop": [
      {
        "name": "TOC",
        "cfg": {
          "visibilityCheckType": "glyph",
          "settingsOptions": {
            "includeCloseButton": false,
            "closeGlyph": "1-close",
            "asModal": false,
            "buttonSize": "small"
          },
          "activateSettingsTool": true,
          "activateLegendTool": true
        },
        "override": {
          "DrawerMenu": {
            "glyph": "1-layer",
            "buttonConfig": {
              "buttonClassName": "square-button no-border",
              "tooltip": "toc.tooltip"
            }
          }
        }
      },
      {
        "name": "Catalog",
        "override": {
          "DrawerMenu": {
            "buttonConfig": {
              "buttonClassName": "square-button no-border",
              "tooltip": "catalog.tooltip"
            }
          }
        }
      },

      {
        "name":"Snapshot",
        "cfg":{
          "wrap":true,
          "wrapWithPanel":false,
          "closeGlyph":"1-close",
          "buttonStyle":"primary"
        }
      },
    "Details",
      {
        "name": "Map",
        "cfg": {
          "mapOptions": {
            "openlayers": {
              "interactions": {
                "pinchRotate": false,
                "altShiftDragRotate": false
              },
              "attribution": {
                "container": "#footer-attribution-container"
              }
            },
            "leaflet": {
              "attribution": {
                "container": "#footer-attribution-container"
              }
            }
          },
          "toolsOptions": {
            "scalebar": {
              "container" : "#footer-scalebar-container"
            }
          }
        }
      }, "AutoMapUpdate", "HelpLink", "DrawerMenu", "Version", "Notifications", "BackgroundSelector", "Annotations",
      {
        "name": "Share",
        "cfg": {
          "advancedSettings": {
            "bbox": true,
            "centerAndZoom": true
          }
        }
      },
      {
        "name": "Identify",
        "cfg": {
          "showHighlightFeatureButton": true,
          "viewerOptions": {
            "container": "{context.ReactSwipe}"
          },
          "showEdit": true
        },
        "override": {
          "Toolbar": {
            "position": 11
          }
        }
      },
      {
        "name": "Locate",
        "override": {
          "Toolbar": {
            "alwaysVisible": true
          }
        }
      }, "Home", "FeatureEditor",
      "WFSDownload",
      {
        "name": "QueryPanel",
        "cfg": {
          "activateQueryTool": true,
          "spatialOperations": [
            {"id": "INTERSECTS", "name": "queryform.spatialfilter.operations.intersects"},
            {"id": "CONTAINS", "name": "queryform.spatialfilter.operations.contains"},
            {"id": "WITHIN", "name": "queryform.spatialfilter.operations.within"}
          ],
          "spatialMethodOptions": [
            {"id": "Viewport", "name": "queryform.spatialfilter.methods.viewport"},
            {"id": "BBOX", "name": "queryform.spatialfilter.methods.box"},
            {"id": "Circle", "name": "queryform.spatialfilter.methods.circle"},
            {"id": "Polygon", "name": "queryform.spatialfilter.methods.poly"}
          ]
        }
      },
      "FilterLayer",
      "AddGroup",
      "Tutorial", "MapFooter", {
        "name": "Measure",
        "cfg": {
          "defaultOptions": {
            "showAddAsAnnotation": true
          }
        }
      }, "Print", "MapImport", {
        "name": "MapExport"
      }, {
        "name": "Settings",
        "cfg": {
          "wrap": true
        }
      }, {
        "name": "About",
        "showIn": ["BurgerMenu"]
      }
    , {
        "name": "MousePosition",
        "cfg": {
          "editCRS": true,
          "showLabels": true,
          "showToggle": true,
          "filterAllowedCRS": ["EPSG:4326", "EPSG:3857"],
          "additionalCRS": {}
        }
      }, {
        "name": "CRSSelector",
        "cfg": {
          "additionalCRS": {

          },
          "filterAllowedCRS": [
            "EPSG:4326",
            "EPSG:3857"
          ],
          "allowedRoles": [
            "ADMIN"
          ]
        }
      }, {
        "name": "Search",
        "cfg": {
          "withToggle": ["max-width: 768px", "min-width: 768px"]
        }
      }, {
        "name": "Toolbar",
        "id": "NavigationBar",
        "cfg": {
          "id": "navigationBar"
        }
      },
      "ScaleBox", {
        "name":"ZoomAll",
        "override": {
          "Toolbar": {
            "alwaysVisible": true
          }
        }
      }, {
        "name": "MapLoading",
        "override": {
          "Toolbar": {
            "alwaysVisible": true
          }
        }
      }, {
        "name": "ZoomIn",
        "override": {
          "Toolbar": {
            "alwaysVisible": true
          }
        }
      }, {
        "name": "ZoomOut",
        "override": {
          "Toolbar": {
            "alwaysVisible": true
          }
        }
      }, {
        "name": "Cookie",
        "cfg": {
          "externalCookieUrl" : "",
          "declineUrl" : "http://www.google.com"
        }
      },
      "OmniBar", "Save", "SaveAs", "BurgerMenu", "Expander", "Undo", "Redo", "FullScreen", "GlobeViewSwitcher", "SearchServicesConfig", "SearchByBookmark", "WidgetsBuilder", "Widgets",
      "WidgetsTray",
      "Timeline",
      "Playback",
      "FeedbackMask",
      "StyleEditor"
    ],
    "embedded": [{
      "name": "Map",
      "cfg": {
        "tools": ["locate"],
        "mapOptions": {
          "openlayers": {
            "interactions": {
              "pinchRotate": false,
              "altShiftDragRotate": false
            },
            "attribution": {
              "container": "#footer-attribution-container"
            }
          },
          "leaflet": {
            "attribution": {
              "container": "#footer-attribution-container"
            }
          }
        },
        "toolsOptions": {
          "scalebar": {
            "container" : "#footer-scalebar-container"
          }
        }
      }
    }, {
      "name": "DrawerMenu",
      "hide": "{!(request.query && request.query.forceDrawer)}"
    },{
      "name": "BackgroundSelector",
      "cfg": {
        "bottom": 40,
        "dimensions": {
          "side": 65,
          "sidePreview": 65,
          "frame": 3,
          "margin": 5,
          "label": false,
          "vertical": true
        }
      }
    }, {
      "name": "Identify",
      "cfg": {
        "showFullscreen": true,
        "position": "bottom",
        "size": 0.5,
        "fluid": true,
        "viewerOptions": {
          "container": "{context.ReactSwipe}"
        }
      }
    }, {
      "name": "ZoomAll",
      "override": {
        "Toolbar": {
          "alwaysVisible": true
        }
      }
    }, {
      "name": "Locate",
      "override": {
        "Toolbar": {
          "alwaysVisible": true
        }
      }
    }, {
      "name": "TOC",
      "cfg": {
        "visibilityCheckType": "glyph",
        "settingsOptions": {
          "includeCloseButton": false,
          "closeGlyph": "1-close",
          "asModal": false,
          "buttonSize": "small"
        },
        "activateSettingsTool": true,
        "activateLegendTool": true
      },
      "override": {
        "DrawerMenu": {
          "glyph": "1-layer",
          "buttonConfig": {
            "buttonClassName": "square-button no-border",
            "tooltip": "toc.tooltip"
          }
        }
      }
    },{
      "name": "Catalog",
      "override": {
        "DrawerMenu": {
          "buttonConfig": {
            "buttonClassName": "square-button no-border",
            "tooltip": "catalog.tooltip"
          }
        }
      }
    }, "AddGroup", "MapFooter", {
      "name": "Settings",
      "cfg": {
        "wrap": true
      }
    }, {
      "name": "Search",
      "cfg": {
        "showOptions": false,
        "withToggle": ["max-width: 768px", "min-width: 768px"]
      }
    }, {
      "name": "Toolbar",
      "id": "NavigationBar",
      "cfg": {
        "id": "navigationBar"
      }
    }, {
      "name": "MapLoading",
      "override": {
        "Toolbar": {
          "alwaysVisible": true
        }
      }
    }, "Cookie",
      "OmniBar", {
        "name": "GoFull",
        "override": {
          "Toolbar": {
            "alwaysVisible": true
          }
        }
      },
      "FeedbackMask"
    ],
    "common": [{
      "name": "OmniBar",
      "cfg": {
        "className": "navbar shadow navbar-home"
      }
    }, {
      "name": "ManagerMenu",
      "cfg": {
        "enableContextManager": true
      }
    },"Language", "NavMenu", "Attribution", "ScrollTop", "Notifications"],
    "maps": ["HomeDescription", "Fork", "MapSearch", "CreateNewMap", "FeaturedMaps", "ContentTabs",

      {
        "name": "Maps",
        "cfg": {
          "mapsOptions": {
            "start": 0,
            "limit": 12
          },
          "fluid": true
        }
      },
      {
        "name": "GeoStories",
        "cfg": {
          "mapsOptions": {
            "start": 0,
            "limit": 12
          },
          "fluid": true
        }
      },
      {
        "name": "Contexts",
        "cfg": {
          "mapsOptions": {
            "start": 0,
            "limit": 12
          },
          "fluid": true
        }
      }
    , "MailingLists", "Footer", {
        "name": "Cookie",
        "cfg": {
          "externalCookieUrl" : "",
          "declineUrl" : "http://www.google.com"
        }
      }],
    "dashboard": [{
      "name": "OmniBar",
      "cfg": {
        "containerPosition": "header",
        "className": "navbar shadow navbar-home"
      }
    }, "Language", "NavMenu", "Attribution", "Home", {
      "name": "Share",
      "cfg": {
        "embedPanel": false,
        "advancedSettings": false
      }
    },
      {
        "name": "QueryPanel",
        "cfg": {
          "toolsOptions": {
            "hideCrossLayer": true,
            "hideSpatialFilter": true
          },
          "containerPosition": "columns"
        }
      }, "BurgerMenu", "Dashboard", "Notifications", {
        "name": "Tutorial",
        "cfg": {
          "allowClicksThruHole": false,
          "containerPosition": "header",
          "preset": "dashboard_tutorial"
        }
      },
      {
        "name": "FeedbackMask",
        "cfg": {
          "containerPosition": "header"
        }
      }],
    "geostory": [
      {
        "name": "OmniBar",
        "cfg": {
          "containerPosition": "header",
          "className": "navbar shadow navbar-home"
        }
      },
      {
        "name": "Tutorial",
        "cfg": {
          "allowClicksThruHole": false,
          "containerPosition": "header",
          "preset": "geostory_view_tutorial"
        }
      },
      "Login",
      "BurgerMenu",
      "Language",
      "NavMenu",
      "Attribution",
      "Home",
      "GeoStory",
      "GeoStorySave",
      "GeoStorySaveAs",
      "MapEditor",
      "MediaEditor",
      {
        "name": "GeoStoryEditor",
        "cfg": {
          "disablePluginIf": "{!!(state('browser') && state('browser').mobile)}",
          "containerPosition": "columns"
        }
      },
      {
        "name": "GeoStoryNavigation",
        "cfg": {
          "containerPosition": "header"
        }
      },
      "Notifications",
      {
        "name": "FeedbackMask",
        "cfg": {
          "containerPosition": "header"
        }
      },
      {
        "name": "Share",
        "cfg": {
          "embedPanel": false,
          "advancedSettings": {
            "homeButton": true,
            "sectionId": true
          }
        }
      }
    ],
    "context-creator": [
      {
        "name": "OmniBar",
        "cfg": {
          "containerPosition": "header",
          "className": "navbar shadow navbar-home"
        }
      },
      "Redirect",
      "Login",
      "Language",
      "NavMenu",
      "Attribution",
      "Tutorial",
      {
        "name": "ContextCreator",
        "cfg": {
          "documentationBaseURL": "https://mapstore.geo-solutions.it/mapstore/docs/api/plugins",
          "backToPageDestRoute": "/context-manager",
          "backToPageConfirmationMessage": "contextCreator.undo"
        }
      },
      "Notifications",
      {
        "name": "FeedbackMask",
        "cfg": {
          "containerPosition": "header"
        }
      }
    ],
    "manager": ["Header", "Redirect", "Manager", "Home", "UserManager", "GroupManager", "Footer"],
    "context-manager": ["Header", "Redirect", "Home", "ContextManager", "Footer"]
  }
}
